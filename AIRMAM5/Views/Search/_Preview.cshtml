@model AIRMAM5.DBEntity.Models.Subject.ShowViewerModel

@{
    string _imageUrl = Url.Content(Model.ImageUrl);
    string _docurl = Url.Action("_PreviewDoc", "DocViewer", new { fsSUBJECT_ID = Model.fsSUBJECT_ID, fileNo = Model.fsFILE_NO });
    string errorImage = Url.Content("~/Images/noImage.png");
    bool actionButton = Model.FileType == "P" ? true :Model.FileType=="D" ?Model.CanPreview: false;
    /* modified_20201026: 資料回傳增加欄位 CanPreview, 
     * Model.CanPreview : 檔案是否可以預覽(open DocViewer)
     * 前端需要判斷, CanPreview=false 就顯示訊息: 此檔案類型不支援預覽功能!
     * */
}

@HtmlHelper.Preview(Model.FileUrl, _imageUrl, Model.FileType, Model.fsFILE_NO, Model.fsSUBJECT_ID, _docurl, errorImage,null, @actionButton)
